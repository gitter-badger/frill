<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">test/helpers/routePrefixerTest.js | FrillJS API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
</head>
<body class="layout-container">

<header>
  <a href="./">Home</a>
  <a href="identifiers.html">Identifier</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <a data-ice="repoURL" href="https://github.com/nanopx/frill" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div data-ice="classWrap">
  <h2>Class</h2>
  <ul>
    
  <li data-ice="classDoc"><span><a href="class/src/components/App/index.jsx~AppComponent.html">AppComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/actions/Auth.js~AuthAction.html">AuthAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/stores/Auth.js~AuthStore.html">AuthStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/components/Error.jsx~ErrorComponent.html">ErrorComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/actions/Example.js~ExampleAction.html">ExampleAction</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/stores/Example.js~ExampleStore.html">ExampleStore</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/components/Login/index.jsx~LoginComponent.html">LoginComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/components/Page.jsx~PageComponent.html">PageComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/components/ScrollBlock/index.jsx~ScrollBlockComponent.html">ScrollBlockComponent</a></span></li>
<li data-ice="classDoc"><span><a href="class/src/components/Top/index.jsx~TopComponent.html">TopComponent</a></span></li>
</ul>
</div>





<div data-ice="variableWrap">
  <h2><a href="variable/">Variable</a></h2>
  <ul>
    
  <li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-Actions">Actions</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-Components">Components</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-FrillCore">FrillCore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-Models">Models</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-Stores">Stores</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-Strategies">Strategies</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-api">api</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-apiV1">apiV1</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-apiV1Hello">apiV1Hello</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-appComponent">appComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-authAction">authAction</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-authHandlers">authHandlers</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-authRoutes">authRoutes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-authStore">authStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-componentRoutes">componentRoutes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-errorComponent">errorComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-exampleAction">exampleAction</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-exampleStore">exampleStore</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-facebookStrategy">facebookStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-githubStrategy">githubStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-googleStrategy">googleStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-helpers">helpers</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-jwtStrategy">jwtStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-localAuthRoutes">localAuthRoutes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-localAuthRoutes">localAuthRoutes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-localStrategy">localStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-loginComponent">loginComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-pageComponent">pageComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-posts">posts</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-routePrefixer">routePrefixer</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-routerContainer">routerContainer</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-routes">routes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-scrollBlockComponent">scrollBlockComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-topComponent">topComponent</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-twitterAuthRoutes">twitterAuthRoutes</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-twitterStrategy">twitterStrategy</a></span></li>
<li data-ice="variableDoc"><span><a href="variable/index.html#static-variable-users">users</a></span></li>
</ul>
</div>



<div data-ice="externalWrap">
  <h2>External</h2>
  <ul>
    
  <li data-ice="externalDoc"><span><a href="http://aws.amazon.com/">AmazonWebServices</a></span></li>
<li data-ice="externalDoc"><span><a href="http://docs.sequelizejs.com/en/latest">Sequelize</a></span></li>
<li data-ice="externalDoc"><span><a href="https://github.com/ryanfitz/vogels">Vogels</a></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">test/helpers/routePrefixerTest.js</h1>
<pre class="source-code line-number"><code class="prettyprint linenums" data-ice="content">import {routePrefixer} from &apos;../../src/helpers&apos;;
import {cloneDeep as _cloneDeep} from &apos;lodash&apos;;

const testRouteObj = {
  path: &apos;/path&apos;,
};

const testRouteArr = [
  {
    path: &apos;/first&apos;,
  },
  {
    path: &apos;/second&apos;,
  },
  {
    path: &apos;/third&apos;,
  },
];

/**
 * Route prefixer
 * @test {routePrefixer}
 */
describe(&apos;routePrefixer&apos;, () =&gt; {
  /**
   * @test {routePrefixer}
   */
  it(&apos;should throw an error if the given params are not correct&apos;, () =&gt; {
    // ensure that the testRouteObj doesn&apos;t change
    const _testRouteObj = _cloneDeep(testRouteObj);
    const testPrefixFn = () =&gt; routePrefixer(null, _testRouteObj);
    const testRouteFn = () =&gt; routePrefixer(&apos;/prefix&apos;, {});
    const testRouteFn2 = () =&gt; routePrefixer(&apos;/prefix&apos;, []);
    (testPrefixFn).should.throw(TypeError, /be a string/);
    (testRouteFn).should.throw(Error, /specify routes/);
    (testRouteFn2).should.throw(Error, /specify routes/);
  });

  /**
   * @test {routePrefixer}
   */
  it(&apos;should throw an error if route(s) don\&apos;t have route.path&apos;, () =&gt; {
    const illegalRouteObj = {handler: () =&gt; {}};
    const testRouteObjFn = () =&gt; routePrefixer(&apos;/prefix&apos;, illegalRouteObj);
    const testRouteArrFn = () =&gt; routePrefixer(&apos;/prefix&apos;, [illegalRouteObj]);

    (testRouteObjFn).should.throw(Error, /A route must have routes.path/);
    (testRouteArrFn).should.throw(Error, /All routes must contain route.path/);
  });

  /**
   * @test {routePrefixer}
   */
  it(&apos;should always return an array&apos;, () =&gt; {
    // ensure that the testRouteObj and testRouteArr doesn&apos;t change
    const _testRouteObj = _cloneDeep(testRouteObj);
    const _testRouteArr = _cloneDeep(testRouteArr);

    const outputFromObj = routePrefixer(&apos;/added&apos;, _testRouteObj);
    const outputFromArr = routePrefixer(&apos;/added&apos;, _testRouteArr);
    outputFromObj.should.be.instanceof(Array);
    outputFromArr.should.be.instanceof(Array);
  });

  /**
   * @test {routePrefixer}
   */
  it(&apos;should be able to prefix routes as an Object&apos;, () =&gt; {
    // ensure that the testRouteObj doesn&apos;t change
    const _testRouteObj = _cloneDeep(testRouteObj);
    const testRouteOutput = routePrefixer(&apos;/added&apos;, _testRouteObj);
    (testRouteOutput[0].path).should.equal(&apos;/added/path&apos;);
  });

  /**
   * @test {routePrefixer}
   */
  it(&apos;should be able to prefix routes as an Array&apos;, () =&gt; {
    // ensure that the testRouteArr doesn&apos;t change
    const _testRouteArr = _cloneDeep(testRouteArr);
    const testRouteOutput = routePrefixer(&apos;/added&apos;, _testRouteArr);
    (testRouteOutput[0].path).should.equal(`/added${testRouteArr[0].path}`);
    (testRouteOutput[1].path).should.equal(`/added${testRouteArr[1].path}`);
    (testRouteOutput[2].path).should.equal(`/added${testRouteArr[2].path}`);
  });
});
</code></pre>
</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.2.1)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
